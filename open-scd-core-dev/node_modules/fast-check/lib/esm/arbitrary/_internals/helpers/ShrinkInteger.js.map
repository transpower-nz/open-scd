{"version":3,"file":"ShrinkInteger.js","sources":["../../../../../../../../node_modules/fast-check/lib/esm/arbitrary/_internals/helpers/ShrinkInteger.js"],"sourcesContent":["import { Value } from '../../../check/arbitrary/definition/Value.js';\nimport { stream } from '../../../stream/Stream.js';\nconst safeMathCeil = Math.ceil;\nconst safeMathFloor = Math.floor;\nfunction halvePosInteger(n) {\n    return safeMathFloor(n / 2);\n}\nfunction halveNegInteger(n) {\n    return safeMathCeil(n / 2);\n}\nexport function shrinkInteger(current, target, tryTargetAsap) {\n    const realGap = current - target;\n    function* shrinkDecr() {\n        let previous = tryTargetAsap ? undefined : target;\n        const gap = tryTargetAsap ? realGap : halvePosInteger(realGap);\n        for (let toremove = gap; toremove > 0; toremove = halvePosInteger(toremove)) {\n            const next = toremove === realGap ? target : current - toremove;\n            yield new Value(next, previous);\n            previous = next;\n        }\n    }\n    function* shrinkIncr() {\n        let previous = tryTargetAsap ? undefined : target;\n        const gap = tryTargetAsap ? realGap : halveNegInteger(realGap);\n        for (let toremove = gap; toremove < 0; toremove = halveNegInteger(toremove)) {\n            const next = toremove === realGap ? target : current - toremove;\n            yield new Value(next, previous);\n            previous = next;\n        }\n    }\n    return realGap > 0 ? stream(shrinkDecr()) : stream(shrinkIncr());\n}\n"],"names":[],"mappings":";;;AAEA,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;AAC/B,MAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC;AACjC,SAAS,eAAe,CAAC,CAAC,EAAE;AAC5B,IAAI,OAAO,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAChC,CAAC;AACD,SAAS,eAAe,CAAC,CAAC,EAAE;AAC5B,IAAI,OAAO,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/B,CAAC;AACM,SAAS,aAAa,CAAC,OAAO,EAAE,MAAM,EAAE,aAAa,EAAE;AAC9D,IAAI,MAAM,OAAO,GAAG,OAAO,GAAG,MAAM,CAAC;AACrC,IAAI,UAAU,UAAU,GAAG;AAC3B,QAAQ,IAAI,QAAQ,GAAG,aAAa,GAAG,SAAS,GAAG,MAAM,CAAC;AAC1D,QAAQ,MAAM,GAAG,GAAG,aAAa,GAAG,OAAO,GAAG,eAAe,CAAC,OAAO,CAAC,CAAC;AACvE,QAAQ,KAAK,IAAI,QAAQ,GAAG,GAAG,EAAE,QAAQ,GAAG,CAAC,EAAE,QAAQ,GAAG,eAAe,CAAC,QAAQ,CAAC,EAAE;AACrF,YAAY,MAAM,IAAI,GAAG,QAAQ,KAAK,OAAO,GAAG,MAAM,GAAG,OAAO,GAAG,QAAQ,CAAC;AAC5E,YAAY,MAAM,IAAI,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;AAC5C,YAAY,QAAQ,GAAG,IAAI,CAAC;AAC5B,SAAS;AACT,KAAK;AACL,IAAI,UAAU,UAAU,GAAG;AAC3B,QAAQ,IAAI,QAAQ,GAAG,aAAa,GAAG,SAAS,GAAG,MAAM,CAAC;AAC1D,QAAQ,MAAM,GAAG,GAAG,aAAa,GAAG,OAAO,GAAG,eAAe,CAAC,OAAO,CAAC,CAAC;AACvE,QAAQ,KAAK,IAAI,QAAQ,GAAG,GAAG,EAAE,QAAQ,GAAG,CAAC,EAAE,QAAQ,GAAG,eAAe,CAAC,QAAQ,CAAC,EAAE;AACrF,YAAY,MAAM,IAAI,GAAG,QAAQ,KAAK,OAAO,GAAG,MAAM,GAAG,OAAO,GAAG,QAAQ,CAAC;AAC5E,YAAY,MAAM,IAAI,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;AAC5C,YAAY,QAAQ,GAAG,IAAI,CAAC;AAC5B,SAAS;AACT,KAAK;AACL,IAAI,OAAO,OAAO,GAAG,CAAC,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC,CAAC;AACrE;;;;"}